extends base
block append head
    script(src="/js/product.js" type="module" defer)
block body
    main
        #detail-wrap.flex-container
            .images
                img(src=`/images/${product.coverImage}.jpg` alt='' srcset='')
                .more-images.flex-container
                    each image in product.images
                        img(src=`/images/${image}.jpg` alt='' srcset='')
            .detail
                h3 Apple&gt;Laptop
                h1= product.name
                div
                    span.rating
                        - for (var x = 0; x < 5; x++)
                            if x < Math.round(product.avgRating)
                                i.fas.fa-star.active 
                            else
                                i.fas.fa-star 
                        
                    span
                    | #{product.avgRating}/5.0  by #{product.qtyRatings} people
                h1 $#{product.price}
                h3= product.summary
                #quantity-wrap
                    input#quantity(type='number' name='')
                .buttons.flex-container
                    button.add-to-cart(data-cart-product-id=`${product.id}`)
                        i.fas.fa-shopping-basket
                        | Add to Cart
                    button.add-to-wishlist
                        i.far.fa-heart
                        | Save to Wishlist
                p Get delivered in 2-4 business days.
        #reviews-wrap
            h1 Reviews
            each review in product.reviews
                .review.flex-container
                    img(src=`/images/users/${review.user.photo}` alt='' srcset='')
                    div
                        h2.review-user-name= review.user.name
                        span.rating
                            - for (var x = 0; x < 5; x++)
                                if x < Math.round(review.rating)
                                    i.fas.fa-star.active 
                                else
                                    i.fas.fa-star
                        p= review.review
            #add-review
                form#add-review-form(data-cart-product-id=`${product.id}`)
                    input(type='text' placeholder='review...' id="review")
                    input(type='number' placeholder='rating' id="rating")
                    button#post-review Post Review



